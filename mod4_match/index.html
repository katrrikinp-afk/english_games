<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üî§ Adjective Matching Game</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f8f9fa;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2c6e49;
    }
    .instructions {
      background: #e3f2fd;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 25px;
      border-left: 4px solid #2196f3;
    }
    .word-bank, .definition-bank {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 12px;
      margin-bottom: 25px;
    }
    .card {
      background: white;
      border: 2px solid #bdbdbd;
      border-radius: 8px;
      padding: 14px;
      text-align: center;
      cursor: pointer;
      transition: all 0.25s;
      position: relative;
    }
    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .card.word::after {
      content: 'üîä';
      position: absolute;
      top: 8px;
      right: 10px;
      font-size: 16px;
      opacity: 0.6;
    }
    .card.word:hover::after {
      opacity: 1;
    }
    .card.selected {
      border-color: #2c6e49;
      background: #e8f5e9;
      font-weight: bold;
    }
    .match-area {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .pair {
      display: flex;
      gap: 12px;
    }
    .pair-slot {
      flex: 1;
      min-height: 55px;
      background: #fff;
      border: 2px dashed #9e9e9e;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px;
      text-align: center;
    }
    .feedback {
      text-align: center;
      margin-top: 20px;
      font-size: 18px;
      min-height: 36px;
      font-weight: bold;
    }
    .btn {
      display: block;
      margin: 15px auto;
      padding: 12px 32px;
      font-size: 18px;
      font-weight: 600;
      background: #2c6e49;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .btn:hover {
      background: #1e5631;
    }
    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .correct { color: #2e7d32; }
    .incorrect { color: #d32f2f; }
    .success {
      background: #e8f5e9;
      padding: 16px;
      border-radius: 8px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>üî§ Adjective Matching Game</h1>

  <div class="instructions">
    <h3>üìù Instructions</h3>
    <p>1. Click on an <strong>adjective</strong> (top row). Listen with üîä.<br>
    2. Then click on its correct <strong>definition in Russian</strong> (bottom row).<br>
    3. A pair will appear below. Make 8 pairs.<br>
    4. Press <strong>Check Answers</strong> when ready!</p>
  </div>

  <h3>üî§ Adjectives (click + üîä to hear):</h3>
  <div class="word-bank" id="words"></div>

  <h3>üìñ Definitions (–Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ):</h3>
  <div class="definition-bank" id="definitions"></div>

  <h3>‚úÖ Your Pairs:</h3>
  <div class="match-area" id="pairs"></div>

  <div class="feedback" id="feedback"></div>

  <button class="btn" id="checkBtn" disabled>Check Answers</button>
  <button class="btn" id="resetBtn">Reset Game</button>

  <script>
    // Data: English adjectives + simple Russian definitions (A1+ friendly)
    const items = [
      { word: "friendly", definition: "–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π ‚Äî –≤–µ–¥—ë—Ç —Å–µ–±—è –∫–∞–∫ —Ö–æ—Ä–æ—à–∏–π –¥—Ä—É–≥" },
      { word: "naughty", definition: "–Ω–µ–ø–æ—Å–ª—É—à–Ω—ã–π ‚Äî –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–ª–æ—Ö–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–±—ë–Ω–æ–∫ –∏–ª–∏ —â–µ–Ω–æ–∫!)" },
      { word: "caring", definition: "–∑–∞–±–æ—Ç–ª–∏–≤—ã–π ‚Äî –ø—Ä–æ—è–≤–ª—è–µ—Ç –ª—é–±–æ–≤—å –∏ —Ö–æ—á–µ—Ç –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º" },
      { word: "funny", definition: "–≤–µ—Å—ë–ª—ã–π ‚Äî –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ª—é–¥–µ–π —Å–º–µ—è—Ç—å—Å—è" },
      { word: "cool", definition: "–∫—Ä—É—Ç–æ–π ‚Äî –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π –∏–ª–∏ –≤–ø–µ—á–∞—Ç–ª—è—é—â–∏–π (—Ä–∞–∑–≥.)" },
      { word: "kind", definition: "–¥–æ–±—Ä—ã–π ‚Äî –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –∏ –º—è–≥–∫–∏–π –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –¥—Ä—É–≥–∏–º" },
      { word: "clever", definition: "—É–º–Ω—ã–π ‚Äî –±—ã—Å—Ç—Ä–æ —É—á–∏—Ç –∏ –ø–æ–Ω–∏–º–∞–µ—Ç" },
      { word: "noisy", definition: "—à—É–º–Ω—ã–π ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –º–Ω–æ–≥–æ –∑–≤—É–∫–æ–≤" }
    ];

    // Shuffle function
    function shuffle(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // Text-to-speech
    const synth = window.speechSynthesis;

    let selectedWord = null;
    let selectedDef = null;

    function renderCards() {
      const wordsDiv = document.getElementById('words');
      const defsDiv = document.getElementById('definitions');
      
      wordsDiv.innerHTML = '';
      defsDiv.innerHTML = '';

      const shuffledItems = shuffle(items);

      // Adjectives (shuffled)
      shuffledItems.forEach((item, i) => {
        const wordCard = document.createElement('div');
        wordCard.className = 'card word';
        wordCard.textContent = item.word;
        wordCard.dataset.type = 'word';
        wordCard.dataset.index = items.findIndex(x => x.word === item.word);
        wordsDiv.appendChild(wordCard);

        wordCard.addEventListener('click', () => {
          speak(item.word);
          document.querySelectorAll('.card.word').forEach(c => c.classList.remove('selected'));
          wordCard.classList.add('selected');
          selectedWord = { element: wordCard, index: wordCard.dataset.index };
          tryMakePair();
        });
      });

      // Definitions (in fixed order, numbered)
      items.forEach((item, i) => {
        const defCard = document.createElement('div');
        defCard.className = 'card';
        defCard.innerHTML = `<strong>${i + 1}.</strong> ${item.definition}`;
        defCard.dataset.type = 'def';
        defCard.dataset.index = i;
        defsDiv.appendChild(defCard);

        defCard.addEventListener('click', () => {
          document.querySelectorAll('.card[data-type="def"]').forEach(c => c.classList.remove('selected'));
          defCard.classList.add('selected');
          selectedDef = { element: defCard, index: defCard.dataset.index };
          tryMakePair();
        });
      });
    }

    function speak(text) {
      if (synth.speaking) synth.cancel();
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'en-US';
      utterance.rate = 0.9;
      synth.speak(utterance);
    }

    function tryMakePair() {
      if (!selectedWord || !selectedDef) return;

      const pairsDiv = document.getElementById('pairs');
      if (pairsDiv.children.length >= 8) return;

      const pair = document.createElement('div');
      pair.className = 'pair';

      const slotWord = document.createElement('div');
      slotWord.className = 'pair-slot';
      slotWord.textContent = selectedWord.element.textContent;
      slotWord.dataset.wordIndex = selectedWord.index;

      const slotDef = document.createElement('div');
      slotDef.className = 'pair-slot';
      slotDef.innerHTML = selectedDef.element.innerHTML;
      slotDef.dataset.defIndex = selectedDef.index;

      pair.appendChild(slotWord);
      pair.appendChild(slotDef);
      pairsDiv.appendChild(pair);

      // Dim used cards
      selectedWord.element.style.opacity = '0.4';
      selectedWord.element.style.pointerEvents = 'none';
      selectedDef.element.style.opacity = '0.4';
      selectedDef.element.style.pointerEvents = 'none';

      selectedWord = null;
      selectedDef = null;

      document.getElementById('checkBtn').disabled = (pairsDiv.children.length < 8);
    }

    function checkAnswers() {
      const pairs = document.querySelectorAll('.pair');
      let correctCount = 0;

      pairs.forEach(pair => {
        const wIdx = parseInt(pair.querySelector('.pair-slot').dataset.wordIndex);
        const dIdx = parseInt(pair.querySelector('.pair-slot:last-child').dataset.defIndex);
        const isCorrect = wIdx === dIdx;

        pair.style.borderLeft = isCorrect ? '5px solid #2e7d32' : '5px solid #d32f2f';
        if (isCorrect) correctCount++;
      });

      const feedback = document.getElementById('feedback');
      if (correctCount === 8) {
        feedback.innerHTML = 'üéâ Perfect! All 8 pairs are correct. Well done!';
        feedback.className = 'feedback correct';
        showCompletion();
      } else {
        feedback.innerHTML = `‚úÖ ${correctCount}/8 correct. Try again ‚Äî you‚Äôre doing great! üòä`;
        feedback.className = 'feedback incorrect';
      }
    }

    function showCompletion() {
      const completion = document.createElement('div');
      completion.className = 'success';
      completion.innerHTML = `
        <h3>üåü Well done!</h3>
        <p>You matched all adjectives correctly!<br>
        These words are very useful ‚Äî for example, you can describe your pets:  
        <em>‚ÄúMy dog is friendly and caring, but the kitten is a little naughty and noisy!‚Äù</em><br>
        Keep learning ‚Äî your English is getting stronger every day! üêæüíö
      `;
      document.body.appendChild(completion);
    }

    function resetGame() {
      document.getElementById('pairs').innerHTML = '';
      document.getElementById('feedback').innerHTML = '';
      const completion = document.querySelector('.success');
      if (completion) completion.remove();

      document.querySelectorAll('.card').forEach(card => {
        card.style.opacity = '1';
        card.style.pointerEvents = 'auto';
        card.classList.remove('selected');
      });

      selectedWord = null;
      selectedDef = null;
      document.getElementById('checkBtn').disabled = true;
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderCards();
      document.getElementById('checkBtn').addEventListener('click', checkAnswers);
      document.getElementById('resetBtn').addEventListener('click', resetGame);
    });
  </script>

</body>
</html>
